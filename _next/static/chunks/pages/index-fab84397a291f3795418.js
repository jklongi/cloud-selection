(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8705:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return W}});var r,u=n(5893),o=n(809),a=n.n(o),c=n(2447),i=n(7294),s=function(){var e=(0,c.Z)(a().mark((function e(t){var n,r,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.aiven.io/v1"+t,e.prev=1,e.next=4,fetch(n);case 4:if((r=e.sent).ok){e.next=7;break}return e.abrupt("return",null);case 7:return e.next=9,r.json();case 9:return u=e.sent,e.abrupt("return",u);case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),l=n(9999),p=n(7698),f=function(e,t){return void 0===t?e:(0,l.Z)(e).sort((function(e,n){return(0,p.getDistance)(t,{latitude:e.geo_latitude,longitude:e.geo_longitude})-(0,p.getDistance)(t,{latitude:n.geo_latitude,longitude:n.geo_longitude})}))},d=n(4121);!function(e){e.AWS="aws",e.AZURE="azure",e.GOOGLE="google",e.DIGITALOCEAN="do",e.UPCLOUD="upcloud"}(r||(r={}));var v=[{name:"Amazon Web Services",value:r.AWS},{name:"Azure",value:r.AZURE},{name:"Google Cloud",value:r.GOOGLE},{name:"DigitalOcean",value:r.DIGITALOCEAN},{name:"UpCloud",value:r.UPCLOUD}],g=function(e,t){return 0===t.length?e:e.filter((function(e){var n=e.cloud_name.split("-"),r=(0,d.Z)(n,1)[0];return t.includes(r)}))},h=function(e){var t=e.items,n=e.renderItem,r=e.Container;return(0,u.jsx)(r,{children:t.map(n)})},b=n(6265),O=n(8347),m=n(5894),j=n(5639),x=n(8799),y=n(6445),w=n(3700);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e){var t=e.items,n=e.onChange,r=e.id,o=e.label,a=(0,O.Z)(e,["items","onChange","id","label"]),c=(0,i.useState)([]),s=c[0],l=c[1];return(0,u.jsxs)(y.Z,{fullWidth:!0,children:[(0,u.jsx)(w.Z,{htmlFor:r,children:o}),(0,u.jsx)(m.Z,P(P({multiple:!0,value:s,onChange:function(e){var t=e.target.value;l(t),n(t)},fullWidth:!0,input:(0,u.jsx)(x.Z,{}),inputProps:{id:r}},a),{},{children:t.map((function(e){var t=e.name,n=e.value;return(0,u.jsx)(j.Z,{value:n,children:t},n)}))}))]})},C=n(553),E=n(585),k=n(3272);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){var t=e.label,n=e.helperText,r=e.onChange,o=(0,O.Z)(e,["label","helperText","onChange"]);return(0,u.jsxs)(y.Z,{children:[(0,u.jsx)(C.Z,{control:(0,u.jsx)(k.Z,S({onChange:function(e){r(e.target.checked)},color:"primary"},o)),label:t}),(0,u.jsx)(E.Z,{children:n})]})},N=n(2822),G=n(998),I=n(5757),T=n(7748),U=n(9895),L=(0,n(1120).Z)((function(e){return{listItem:{paddingTop:0},paper:{padding:e.spacing(0,2),flex:1}}})),W=function(){var e=L(),t=(0,i.useState)([]),n=t[0],r=t[1],o=(0,i.useState)([]),l=o[0],p=o[1],d=(0,i.useState)(),b=d[0],O=d[1],m=(0,i.useState)(!1),j=m[0],x=m[1],y=(0,i.useState)(),w=y[0],Z=y[1];return(0,i.useEffect)((function(){(function(){var e=(0,c.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s("/clouds");case 2:(t=e.sent)&&r(t.clouds);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),(0,i.useEffect)((function(){(function(){var e=(0,c.Z)(a().mark((function e(){var t,n,r,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j||b){e.next=15;break}return Z("Locating..."),e.prev=2,e.next=5,new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t,{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}));case 5:t=e.sent,n=t.coords,r=n.latitude,u=n.longitude,O({latitude:r,longitude:u}),Z(void 0),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),x(!1),Z("Unable to locate");case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}})()()}),[j]),(0,u.jsxs)(T.Z,{py:3,children:[(0,u.jsx)(_,{items:v,label:"Select cloud provider",onChange:p,id:"provider-select"}),(0,u.jsx)(A,{label:"Sort by distance",checked:j,onChange:x,helperText:w}),(0,u.jsx)(h,{Container:N.Z,items:f(g(n,l),j?b:void 0),renderItem:function(t){return(0,u.jsx)(G.Z,{className:e.listItem,disableGutters:!0,children:(0,u.jsx)(U.Z,{className:e.paper,children:(0,u.jsx)(I.Z,{primary:t.cloud_description,secondary:t.cloud_name})})},t.cloud_name)}})]})}},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8705)}])}},function(e){e.O(0,[774,351,921,920],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);